{% extends 'base.html' %}
{% load static %}


{% block css %}
<link rel="stylesheet" href="{% static 'css/book_detail.css' %}">
<link rel="stylesheet" href="{% static 'css/all_comments.css' %}">
{% endblock css %}
    

{% block main_content %}

<div class="container container--book_detail">
    <h1 class="book_commentary"><a href="{{ book.get_absolute_url }}" class="book_title">{{ book.title }}</a> book commentary:</h1>
    <div class="comments_block">
        {% for comment in page_obj  %}
            {% include 'bookapp/include/comment.html' %}
        {% endfor %}
    </div>

    {% if is_paginated %}
    <div class="pages">

        {% if page_obj.has_previous %}
        <a class='page__item' href="?page={{ page_obj.previous_page_number }}">&#8592;</a>
        {% endif %}

        <!-- paginator.page_range = range(1, 3) это просто числа, а не список объектов -->
        {% for page in paginator.page_range %}
        {% if page_obj.number == page %}
        <a class="page__item active" href="?page={{ page }}">{{ page }}</a>
        {% else %}
        <a class="page__item" href="?page={{ page }}">{{ page }}</a>
        {% endif %}
        {% endfor %}


        {% if page_obj.has_next %}
        <a class='page__item' href="?page={{ page_obj.next_page_number }}">&#8594;</a>
        {% endif %}


    </div>
    {% endif %}
</div>


{% endblock main_content %}